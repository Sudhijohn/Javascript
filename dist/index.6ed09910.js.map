{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-c671c19c1441ffdb.js","src/js/config.js","src/js/helper.js","src/js/model.js","src/js/views/views.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-3d000a4ed2e77e8c.js","src/js/views/question.js","node_modules/@parcel/runtime-js/lib/runtime-3033374dfd3ceea6.js","node_modules/@parcel/runtime-js/lib/runtime-a1238da703c0d303.js","node_modules/@parcel/runtime-js/lib/runtime-9495e8b4742c4492.js","node_modules/@parcel/runtime-js/lib/runtime-468b566493105499.js","src/js/views/status.js","src/js/controller.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2G0cO\\\":\\\"index.6ed09910.js\\\",\\\"eR1UI\\\":\\\"tick.b4f29040.png\\\",\\\"d8J0M\\\":\\\"dora-didit.b8266bc4.gif\\\",\\\"3Dgz4\\\":\\\"celeb.018806a7.gif\\\",\\\"lXVxS\\\":\\\"thumbs-up.289873d9.gif\\\",\\\"jkxXc\\\":\\\"pepa.8ac58895.gif\\\"}\"));","export const MAX_NO_PROBLEM = 5;\r\nexport const MAX_NUMBER = 25;\r\n","export const generateNumber = number => Math.trunc(Math.random() * number);\r\n","import { MAX_NO_PROBLEM, MAX_NUMBER } from './config';\r\nimport { generateNumber } from './helper';\r\n\r\nexport const state = {\r\n  data: [],\r\n  progress: {\r\n    remaining: 0,\r\n    completed: 0,\r\n  },\r\n};\r\n\r\nexport const createInitalState = () => {\r\n  while (state.data.length < MAX_NO_PROBLEM) {\r\n    const question = {\r\n      id: state.data.length + 1,\r\n      number1: generateNumber(MAX_NUMBER),\r\n      number2: generateNumber(MAX_NUMBER),\r\n    };\r\n    question.ans = question.number1 + question.number2;\r\n    state.data.push(question);\r\n  }\r\n};\r\n\r\nexport const updateStatus = (id, ans) => {\r\n  const question = state.data.find(question => question.id === id);\r\n  if (!question) return;\r\n  if (question.ans === ans) question.correct = true;\r\n  progressTracker();\r\n};\r\n\r\nexport const progressTracker = () => {\r\n  const completed = state.data.filter(question => question.correct === true);\r\n  state.progress.remaining = state.data.length - completed.length;\r\n  state.progress.completed = completed.length;\r\n};\r\n\r\nexport const reset = () => {\r\n  state.data.length = 0;\r\n  state.progress.completed = 0;\r\n  state.progress.remaining = 0;\r\n  createInitalState();\r\n};\r\n","class View {\r\n  _data;\r\n  displayView(data) {\r\n    this._data = data;\r\n    const markup = this._generateMarkups(this._data);\r\n    this._clear();\r\n    this._parentContainer.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  _clear() {\r\n    this._parentContainer.innerHTML = '';\r\n  }\r\n}\r\n\r\nexport default View;\r\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('2G0cO') + require('./helpers/bundle-manifest').resolve(\"eR1UI\");","import View from './views';\r\nimport tick from 'url:../../img/tick.png';\r\n\r\nclass Question extends View {\r\n  _parentContainer = document.querySelector('.question');\r\n\r\n  display(state) {\r\n    this.displayView(state);\r\n    this.focusInput();\r\n  }\r\n\r\n  _generateMarkups() {\r\n    return this._data.map(question => this._generateMarkup(question)).join();\r\n  }\r\n  _generateMarkup(que) {\r\n    return `\r\n      <div data-id=${que.id} data-ans=${que.ans} \r\n       class=\"que-container ${que.correct ? 'complete' : ''}\">\r\n        <span class=\"number\">${que.number1}</span>\r\n        <span class=\"number\">+</span>\r\n        <span class=\"number\">${que.number2}</span>\r\n        <span class=\"number\">=</span>\r\n        <div class=\"answer ${que.correct ? 'hide' : ''}\">\r\n          <input\r\n            type=\"number\"\r\n            min=0\r\n            class=\"answer__field\"\r\n            show=${!que.correct}\r\n            placeholder=\"Answer here...\"\r\n          />\r\n        </div>\r\n        <div class=\"ans-container\" ${que.correct ? '' : 'hidden'}>\r\n            <span class=\"ans-number\">${que.ans}</span>\r\n            <img src=\"${tick}\" alt=\"Success\" class=\"tick-logo\" />\r\n        </div>\r\n      </div>`;\r\n  }\r\n\r\n  focusInput() {\r\n    const inputs = Array.from(\r\n      this._parentContainer.getElementsByTagName('input')\r\n    ).filter(ele => ele.getAttribute('show') === 'true');\r\n    if (inputs.length === 0) return;\r\n    inputs[0].focus();\r\n  }\r\n\r\n  addChangeHandler(handler) {\r\n    this._parentContainer.addEventListener('input', function (event) {\r\n      const queContainer = event.target.closest('.que-container');\r\n      const answer = event.target.value;\r\n      const questionID = queContainer.dataset.id;\r\n      const correctAnswer = queContainer.dataset.ans;\r\n      if (correctAnswer === answer) handler(+questionID, +event.target.value);\r\n    });\r\n  }\r\n}\r\n\r\nexport default new Question();\r\n","module.exports = require('./helpers/bundle-url').getBundleURL('2G0cO') + require('./helpers/bundle-manifest').resolve(\"d8J0M\");","module.exports = require('./helpers/bundle-url').getBundleURL('2G0cO') + require('./helpers/bundle-manifest').resolve(\"3Dgz4\");","module.exports = require('./helpers/bundle-url').getBundleURL('2G0cO') + require('./helpers/bundle-manifest').resolve(\"lXVxS\");","module.exports = require('./helpers/bundle-url').getBundleURL('2G0cO') + require('./helpers/bundle-manifest').resolve(\"jkxXc\");","import View from './views';\r\nimport dora from 'url:../../img/dora-didit.gif';\r\nimport celeb from 'url:../../img/celeb.gif';\r\nimport thumbsup from 'url:../../img/thumbs-up.gif';\r\nimport pepa from 'url:../../img/pepa.gif';\r\n\r\nclass Status extends View {\r\n  _parentContainer = document.querySelector('.status');\r\n\r\n  _selectImage() {\r\n    const images = [dora, celeb, thumbsup, pepa];\r\n    const index = Math.floor(Math.random() * images.length);\r\n    return images[index];\r\n  }\r\n\r\n  _generateMarkups() {\r\n    return `\r\n                <span class=\"status-item red\"> Remaining : ${\r\n                  this._data.remaining\r\n                }</span>\r\n                <span class=\"status-item green\"> Completed : ${\r\n                  this._data.completed\r\n                }</span>\r\n                ${\r\n                  this._data.remaining\r\n                    ? ''\r\n                    : `<div class=\"completed\">\r\n                          <img  src=${this._selectImage()} alt=\"Success\" />\r\n                          <button class=\"btn reset\">Reset</button>\r\n                       </div>`\r\n                }\r\n            `;\r\n  }\r\n\r\n  addClickHandler(handler) {\r\n    this._parentContainer.addEventListener('click', event => {\r\n      const btn = event.target.closest('.reset');\r\n      if (!btn) return;\r\n      handler();\r\n      this._clear();\r\n    });\r\n  }\r\n\r\n  _clear() {\r\n    this._parentContainer.innerHTML = '';\r\n  }\r\n}\r\n\r\nexport default new Status();\r\n","import * as model from './model';\nimport Question from './views/question';\nimport Status from './views/status';\n\nconst controlAnswers = (id, ans) => {\n  model.updateStatus(id, ans);\n  Question.display(model.state.data);\n  Status.displayView(model.state.progress);\n  Status.addClickHandler(controlReset);\n};\n\nconst controlReset = () => {\n  model.reset();\n  Question.display(model.state.data);\n};\n\n(function init() {\n  model.createInitalState();\n\n  Question.display(model.state.data);\n  Question.addChangeHandler(controlAnswers);\n})();\n"],"names":["$8b4d1930797b255e$export$6503ec6e8aabbaf","$8b4d1930797b255e$export$f7ad0328861e2f03","$8b4d1930797b255e$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$382eeb8b61d9eb9c$export$a5c28453258e2e31","number","Math","trunc","random","$8a418f4c2848ae4e$export$ca000e230c0caa3e","data","progress","remaining","completed","$8a418f4c2848ae4e$export$59a8bed4207591fe","question","number1","number2","ans","push","$8a418f4c2848ae4e$export$7051116ea4ac6dea","filter","correct","$3e4d292040815713$export$2e2bcd8739ae039","_data","displayView","this","markup","_generateMarkups","_clear","_parentContainer","insertAdjacentHTML","innerHTML","$f29cd6c67ea13581$export$bdfd709ae4826697","$f29cd6c67ea13581$var$bundleURL","$f29cd6c67ea13581$var$getBaseURL","url","replace","value","err","matches","stack","match","$f29cd6c67ea13581$var$getBundleURL","$c6bc79a080f27d14$exports","getBundleURL","resolve","document","querySelector","display","state","focusInput","map","_generateMarkup","join","que","$parcel$interopDefault","$fbd41bb93587d08b$exports","$3502a2a9bab02733$exports","$d3d3fcd59677f576$exports","$a8511548830bc15d$exports","_selectImage","images","floor","addClickHandler","handler","addEventListener","event","target","closest","$e59237c46c570137$var$controlAnswers","question1","find","$8a418f4c2848ae4e$export$dd127eb7207846ef","$83577f71e7fbaf29$export$2e2bcd8739ae039","$c16aa478eaa066e6$export$2e2bcd8739ae039","$e59237c46c570137$var$controlReset","addChangeHandler"],"version":3,"file":"index.6ed09910.js.map"}